{% load static tailwind_tags i18n %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Oxygen:wght@300;400;700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />

    <title>ANGKOR LUXE - Gestion locative optimisée</title>
    <meta
      name="description"
      content="ANGKOR LUXE offre des solutions de gestion locative complètes en Cambodge, garantissant rentabilité, tranquillité d'esprit et sécurité pour vos locations. Découvrez nos services adaptés à vos besoins."
    />
    <script
      src="https://kit.fontawesome.com/33a775bcdb.js"
      crossorigin="anonymous"
    ></script>
    

    {% comment %} <link
      href="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.js"></script> {% endcomment %}


     {% tailwind_css %}
  </head>
  <body class="bg-black">
    {% include '_header.html' %}

    <main>
      {% block content %}
      <!-- Le contenu spécifique des pages sera inséré ici -->
      {% endblock %}
    </main>

    {% include '_footer.html' %}

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Sélection et application de la langue choisie
        var languageSelector = document.getElementById("languageSelector");
        if (languageSelector) {
          var selectedLanguage = "{{ request.LANGUAGE_CODE }}";
          languageSelector.value = selectedLanguage;
        }
    
        // Fonction pour sauvegarder la position de défilement et soumettre le formulaire
        window.saveScrollPositionAndSubmitForm = function(selectElement) {
          localStorage.setItem("scrollPosition", window.pageYOffset || document.documentElement.scrollTop);
          selectElement.form.submit();
        };
    
        // Restaurer la position de défilement précédemment sauvegardée après rechargement
        var scrollPosition = localStorage.getItem("scrollPosition");
        if (scrollPosition) {
          window.scrollTo(0, scrollPosition);
          localStorage.removeItem("scrollPosition");
        }
      });
    </script>

    {% comment %} <script>
      document.addEventListener('DOMContentLoaded', () => {
        // Sélectionne tous les éléments destinés à être animés avec un délai
        const elementsWithDelay = document.querySelectorAll('[data-delay]');
      
        // Applique l'animation à chaque élément en tenant compte du délai
        elementsWithDelay.forEach(element => {
          // Récupère le délai défini dans l'attribut data-delay
          const animationDelay = element.getAttribute('data-delay');
      
          // Applique le délai d'animation
          element.style.animationDelay = animationDelay;
      
          // Détermine le type d'animation à appliquer
          if (element.classList.contains('fade-in-left')) {
            // 1 seconde est le temps total de l'animation
            element.style.animation = `fadeInLeft 1s ease-out ${animationDelay} forwards`;
          } else if (element.classList.contains('fade-in')) {
            // Ajoute l'animation fade-in avec le délai spécifié
            element.style.animation = `fadeIn 1s ease-out ${animationDelay} forwards`;
          }
        });
      });
    </script> {% endcomment %}

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // Fonction pour ajouter l'animation aux éléments observés
        const addAnimation = (element) => {
          const animationDelay = element.getAttribute('data-delay') || '0s';
          const animationType = element.dataset.animation; // Utilisez un attribut data-animation pour spécifier le type
    
          // Applique l'animation avec le délai
          element.style.animation = `${animationType} 1s ease-out ${animationDelay} forwards`;
        };
    
        // Options de l'observer
        const observerOptions = {
          root: null, // null signifie viewport
          rootMargin: '0px',
          threshold: 0.1 // Se déclenche lorsque 10% de l'élément est visible
        };
    
        // Création de l'observer
        const observer = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            // Vérifie si l'élément est visible
            if (entry.isIntersecting) {
              addAnimation(entry.target); // Ajoute l'animation
              observer.unobserve(entry.target); // Arrête d'observer l'élément
            }
          });
        }, observerOptions);
    
        // Sélectionne tous les éléments à animer et les observe
        document.querySelectorAll('[data-animation]').forEach(el => observer.observe(el));
      });
    </script>
    
    
  </body>
</html>
